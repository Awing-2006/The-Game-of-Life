import pygame

pygame.init()                                                                                   # initiate pygame
width, height = 1300, 700                                                                       # set width and height of window
window = pygame.display.set_mode((width, height))                                               # create window
clock = pygame.time.Clock()                                                                     # set clock

tile = 25                                                                                       # tile size
tick_speed = 20                                                                                 # set tick speed
color = (64, 64, 64)                                                                            # set tile color
cell_amount_x = width // tile                                                                   # amount of cells on x-axis
cell_amount_y = height // tile                                                                  # amount of cells on y-axis
running = True                                                                                  # activate "while running" loop
pause = True                                                                                    # activate "while pause" loop


class Cell:                                                                                     # create a class for cells
    def __init__(self):
        self.clicked = False                                                                    # define function "clicked"


board = [[Cell() for _ in range(cell_amount_x)] for _ in range(cell_amount_y)]                  # create board


while running:
    for event in pygame.event.get():
        if event.type == pygame.QUIT:                                                           # if window closed
            running = False                                                                     # stop running the game
            print("The game has stopped")

            if event.type == pygame.MOUSEBUTTONDOWN:                                            # if mouse is clicked
                row = event.pos[1] // tile                                                      # identify which row
                col = event.pos[0] // tile                                                      # identify which column
                if event.button == 1 and not board[row][col].clicked:                           # if clicked cell hasn't been clicked before
                    color = (164, 164, 164)                                                     # change the color
                    board[row][col].clicked = True                                              # change the clicked state
                elif event.button == 1 and board[row][col].clicked:                             # if clicked cell has been clicked before
                    color = (64, 64, 64)                                                        # change the color
                    board[row][col].clicked = False                                             # change the clicked state

    window.fill(0)                                                                              # set background color to black

    for iy, rowOfCells in enumerate(board):                                                     # for every y value in board
        for ix, cell in enumerate(rowOfCells):                                                  # for every x value in row
            color = (64, 64, 64) if cell.clicked else (164, 164, 164)
            pygame.draw.rect(window, color, (ix * tile + 1, iy * tile + 1, tile - 2, tile - 2)) # draw a square the size of the tile

    while pause:
        for event in pygame.event.get():
            if event.type == pygame.KEYDOWN:                                                    # if a key is pressed
                if event.key == pygame.K_p:                                                     # if the key is p
                    print("Timer paused.")
                    pause = False                                                               # go out of "while pause" loop
                elif event.key == pygame.K_r:                                                   # if key is r
                    print("Timer resumed.")
                    pause = True                                                                # keep going through "while pause" loop

            for iy, rowOfCells in enumerate(board):
                for ix, cell in enumerate(rowOfCells):
                    if cell.clicked:
                        # if surrounded by 2 or 3 cells
                            # cell.clicked = True
                        # if surrounded by 0 or 1 cells or surrounded by 4 or more cells
                            # cell.clicked = False
                    if not cell.clicked:
                        # if surrounded by 3 cells
                            # cell.clicked = True


    pygame.display.flip()
    clock.tick(tick_speed)

pygame.quit()
exit()
